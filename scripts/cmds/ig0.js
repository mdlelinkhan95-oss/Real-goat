const axios = require("axios");
const fs = require("fs-extra");
const path = require("path");

module.exports = {
  config: {
    name: "ig",
    version: "1.1.0",
    permission: 0,
    credits: "Mohammad Rahad (Fixed by AI)",
    description: "Send random Instagram images",
    prefix: true,
    category: "image",
    usages: "ig",
    cooldowns: 5,
  },

  onStart: async function({ api, event, message }) {
    try {
      const hi = ["ü•µü•µü•µ"];
      const know = hi[Math.floor(Math.random() * hi.length)];
      
      const link = [
 -1196665750849953-266022092481569660-n.jpg",
"https://i.postimg.cc/KjyqjRJt/232973061-1178833492592350-1581479220848119085-n.jpg",
"https://i.postimg.cc/tJtrxpMw/233026530-144201217853223-1800067070069355989-n.jpg",
"https://i.postimg.cc/13zW8xc7/233120135-570148997576101-5778552217825561200-n.jpg",
"https://i.postimg.cc/c40kNtKS/233608293-317906470083739-6992636463944493689-n.jpg",
"https://i.postimg.cc/4NPL44th/233640275-180676190791764-4746412715757751420-n.jpg",
"https://i.postimg.cc/HkP65S6Y/233671072-362883251853646-8455359669886334759-n.jpg",
"https://i.postimg.cc/LsYNVzWz/233746938-163034752591685-8897108631365345557-n.jpg",
"https://i.postimg.cc/NF440byw/233772121-1711099385755346-5528275236260614582-n.jpg",
"https://i.postimg.cc/RFwdkv4h/233826392-130984035888172-2976717230160315004-n.jpg",
"https://i.postimg.cc/L5RDRG8T/234025173-975112133344544-3100154765640527110-n.jpg",
"https://i.postimg.cc/zXz7QmMD/234036366-361687168787293-3535977887399121827-n.jpg",
"https://i.postimg.cc/NG7bbGdP/234194525-942104053012051-8475103670198682360-n.jpg",
"https://i.postimg.cc/Dz95pSVR/234281735-1554402624921690-4418166678775506006-n.jpg",
"https://i.postimg.cc/hP2sWyWL/234416153-204642718293330-6751378869943202775-n.jpg",
"https://i.postimg.cc/BntgqT4d/234527863-1171219479954413-2031275840662820425-n.jpg",
"https://i.postimg.cc/RZ8TqW0q/234632380-202733068491332-3098503766435439649-n.jpg",
"https://i.postimg.cc/DzXPG7W6/234702648-865827217368983-7839048587321511111-n.jpg",
"https://i.postimg.cc/Y0p6TgdD/234879882-850135245875939-4542901833306824012-n.jpg",
"https://i.postimg.cc/9MHttsZh/235147580-969801807199626-125541142752203126-n.jpg",
"https://i.postimg.cc/3RjjL9FD/235187619-1283429268742500-5885698097427305964-n.jpg",
"https://i.postimg.cc/kMcFK150/235438274-2303379396462759-8411585031424461645-n.jpg",
"https://i.postimg.cc/90Jd2MSm/235440810-131522219143881-2311909359735653021-n.jpg",
"https://i.postimg.cc/xT1GRvJc/235514709-4165645650218489-6162914726483985268-n.jpg",
"https://i.postimg.cc/SN16tnCV/235757446-929379194287015-8943211904827087961-n.jpg",
"https://i.postimg.cc/CxZGyw40/235841585-221069319943186-7390815768676287072-n.jpg",
"https://i.postimg.cc/rpx5mgbY/235854004-543627290169114-3270018267830825537-n.jpg",
"https://i.postimg.cc/gJp868bc/236077090-2000016233497004-3534288317521761789-n.jpg",
"https://i.postimg.cc/kGXSTC5k/236200208-820175525527770-4159304275278678931-n.jpg",
"https://i.postimg.cc/W1QMTx9k/236298835-535404161002376-2517044979832412192-n.jpg",
"https://i.postimg.cc/Kz5L7jmP/236309217-1591865557811668-3045603547003694526-n.jpg",
"https://i.postimg.cc/7hs2cRGb/236596983-1732552840279121-8948632025895856860-n.jpg",
"https://i.postimg.cc/8PcWWT9v/236614603-254140283218475-2971069053618134846-n.jpg",
"https://i.postimg.cc/rpXtvxmG/236681329-1272931836497075-2416345653544561489-n.jpg",
"https://i.postimg.cc/kgtb1fnX/236790516-1016767662429459-2104111510248396109-n.jpg",
"https://i.postimg.cc/BQzFBdfV/236995043-588001765712733-444541362726672711-n.jpg",
"https://i.postimg.cc/qRQhhFGQ/237038206-120369090330262-729990086471947864-n.jpg",
"https://i.postimg.cc/j25WzhgT/237057982-4273323252752282-4590045560951726682-n.jpg",
"https://i.postimg.cc/LXmgsSjn/237098263-160545336192939-4690258851388737451-n.jpg",
"https://i.postimg.cc/QMQWsC92/237118897-133381898960661-3174208915499585484-n.jpg",
"https://i.postimg.cc/SRvnVz3M/237637909-706665193623673-6452295986247402631-n.jpg",
"https://i.postimg.cc/ZKX9dprk/237738071-204533098317353-3737822554312069018-n.jpg",
"https://i.postimg.cc/hPXzvpQb/238191910-2878076139171426-8877088208929332864-n.jpg",
"https://i.postimg.cc/K8L1rjN1/238221374-530478458240043-1735445973510147125-n.jpg",
"https://i.postimg.cc/Ls3hwWGR/238342468-1767125936805016-7168295839097950270-n.jpg",
"https://i.postimg.cc/1tR4QHZF/238440197-582537576079359-6619309320772165195-n.jpg",
"https://i.postimg.cc/mZX1T0kg/238486018-352930473166593-7240301592595065102-n.jpg",
"https://i.postimg.cc/vmscPyq3/238576795-960630197831067-2626329114372291468-n.jpg",
"https://i.postimg.cc/DZC0yX2M/238769183-3134520043535252-1307025716767158935-n.jpg",
"https://i.postimg.cc/nc9rprN3/238775424-135235528783500-3075041411385977427-n.jpg",
"https://i.postimg.cc/XNzqRd1Z/238830050-565789021409204-7996976543949176906-n.jpg",
"https://i.postimg.cc/Y0ZSQBLN/238853607-340028554538336-8563290823436080892-n.jpg",
"https://i.postimg.cc/8cj5FzcP/238936983-1257101064731284-4718625916183834288-n.jpg",
"https://i.postimg.cc/52c001Vb/238957722-264090192197723-7630058411263234692-n.jpg",
"https://i.postimg.cc/sgp2G8jS/239083158-267009151609034-4501780709018688557-n.jpg",
"https://i.postimg.cc/5tgNnCF2/239146695-884237888966542-5369697516827466649-n.jpg",
"https://i.postimg.cc/VNmkqRvh/239187607-426357918703648-1003392905463589186-n.jpg",
"https://i.postimg.cc/TwP2S3rq/239195952-539871137276845-2202833611372486538-n.jpg",
"https://i.postimg.cc/gJBcPbs9/239195955-858765854759855-4990819067228323591-n.jpg",
"https://i.postimg.cc/rsB8KG7Q/239334230-933022307280399-389044495663021842-n.jpg",
"https://i.postimg.cc/MHM6633n/239351872-1224050921441487-6484487917731897628-n.jpg",
"https://i.postimg.cc/bwjyPTxv/239428004-4532825126741989-1473620522856910466-n.jpg",
"https://i.postimg.cc/FsSrwqJq/239434380-574693113554334-4257867367910189024-n.jpg",
"https://i.postimg.cc/qBSBb0gy/239461304-358133889140821-29136563636431111-n.jpg",
"https://i.postimg.cc/25kCbSXR/239468892-906701356892945-8086788843784781395-n.jpg",
"https://i.postimg.cc/L8BH81D3/239527994-221504700011152-1541516659268645974-n.jpg",
"https://i.postimg.cc/mrmBQW0c/239556124-1498102247217864-4306005997851170286-n.jpg",
"https://i.postimg.cc/XJX3LDbs/239590359-267422411554040-8415704614865955188-n.jpg",
"https://i.postimg.cc/x8zQDJqH/239616257-434283224511432-2244518740648144202-n.jpg",
"https://i.postimg.cc/gcXLkgZy/239633209-2039318232893424-4035573994308753872-n.jpg",
"https://i.postimg.cc/NfRyRLb5/239658312-3225635617716149-1629274271651683747-n.jpg",
"https://i.postimg.cc/HWqcJbwq/239730473-527373021822952-575058723001854423-n.jpg",
"https://i.postimg.cc/76c4WMPw/239741285-4491786747550423-8778176051181041922-n.jpg",
"https://i.postimg.cc/yWCHV1SG/239797168-239374551430725-4325959280007035449-n.jpg",
"https://i.postimg.cc/NjYKDYPb/239816632-573085950499501-250120118210648492-n.jpg",
"https://i.postimg.cc/BvnXWp3K/239907834-2999123473667990-4963951818410054754-n.jpg",
"https://i.postimg.cc/hGZhKm43/239932473-366653295118795-4995599058704371606-n.jpg",
"https://i.postimg.cc/FHZ7nqMv/239976305-424136542338462-5120586462317152534-n.jpg",
"https://i.postimg.cc/pT9rrdpV/240051848-527762551669819-5243876543144227236-n.jpg",
"https://i.postimg.cc/XJTJC0Cf/240098794-529276868400660-7685978374890699688-n.jpg",
"https://i.postimg.cc/CMqdVd3m/240167763-1171140810036494-5515046647955603183-n.jpg",
"https://i.postimg.cc/8cMCdnRq/240172166-137632548532765-5635063923442869657-n.jpg",
"https://i.postimg.cc/fTQyWDZZ/240187452-325573215989858-1383577511457648066-n.jpg",
"https://i.postimg.cc/gkyJnQkh/240317696-176130644615352-7632999254727747076-n.jpg",
"https://i.postimg.cc/0y8NmnbB/240356646-2957096531221403-7569003392294474604-n.jpg",
"https://i.postimg.cc/6pYphZZ5/240386634-1067486560688482-3933514521848438647-n.jpg",
"https://i.postimg.cc/6QP6kNzk/240393024-862830457701673-5843148979799734481-n.jpg",
"https://i.postimg.cc/VNvLZN99/240397693-503061144357097-4494476141848542594-n.jpg",
"https://i.postimg.cc/QN1Nyw7z/240402863-379912477036463-5778011288808815970-n.jpg",
"https://i.postimg.cc/7h8HLMFX/240404504-199023225544698-4712604166207607926-n.jpg",
"https://i.postimg.cc/tJ3Xnnyb/240410136-353451359771726-8876988427591674533-n.jpg",
"https://i.postimg.cc/rFTyXjCw/240411075-1460083061023318-4385151537163878309-n.jpg",
"https://i.postimg.cc/RVTSMtXQ/240413093-858002918167956-6076006962641316611-n.jpg",
"https://i.postimg.cc/qvMkg7Ff/240416771-815115392534137-7094850606821222881-n.jpg",
"https://i.postimg.cc/7Zsqzkv5/240417585-572529753795621-6749647945715719805-n.jpg",
"https://i.postimg.cc/Ss84HYn9/240423545-903259926944204-2339508312698061149-n.jpg",
"https://i.postimg.cc/Fz4vvFSB/240430784-262671048799442-842776214523101623-n.jpg",
"https://i.postimg.cc/N0ZYNkjY/240431752-873632650204276-446810669525984159-n.jpg",
"https://i.postimg.cc/C5sgxyHL/240444787-4125434174252096-3857463538609733256-n.jpg",
"https://i.postimg.cc/Vsq1RMQQ/240447465-579445923078508-1618521372768826686-n.jpg",
"https://i.postimg.cc/W4dT6HjX/240448011-4237614506321433-7871622285032670990-n.jpg",
"https://i.postimg.cc/520VbRHb/240448924-134169888909169-4652837438623864328-n.jpg",
"https://i.postimg.cc/GhzR0CmX/240455077-4495072330545441-250002994199808056-n.jpg",
"https://i.postimg.cc/8z0V5mWW/240458730-140341751615975-2469350570483727891-n.jpg",
"https://i.postimg.cc/LXzdxdWB/240467631-299609961962618-2196666097183107543-n.jpg",
"https://i.postimg.cc/xCrDGj61/240473073-271540247818462-139021309447433437-n.jpg",
"https://i.postimg.cc/MGfJjfbL/240477282-202947368538635-1135906506745222814-n.jpg",
"https://i.postimg.cc/nrkyt4pX/240489445-519187245809579-5972625528362488352-n.jpg",
"https://i.postimg.cc/4yZDMLkC/240493717-2711348815830033-4543429206159569404-n.jpg",
"https://i.postimg.cc/L43KfpLm/240500667-220260026599687-6121112984588424138-n.jpg",
"https://i.postimg.cc/tCBKSNBf/240509456-5942265375845145-3230518843885572551-n.jpg",
"https://i.postimg.cc/cJnPJydy/240512539-1427590084292853-5706023973719614592-n.jpg",
"https://i.postimg.cc/TwvFL7Py/240512974-386251186406059-2340374998258820345-n.jpg",
"https://i.postimg.cc/t4fLyCQN/240513281-4250363571737480-7842875027386839061-n.jpg",
"https://i.postimg.cc/FH122kqK/240523874-433766744582274-6714701834278655486-n.jpg",
"https://i.postimg.cc/C1CtjGZc/240530846-393903505491993-1735569902360128254-n.jpg",
"https://i.postimg.cc/brz5LZkp/240538956-111747527890134-2518886458897181633-n.jpg",
"https://i.postimg.cc/yxvbG7y9/240541148-335062971656163-539733319083226643-n.jpg",
"https://i.postimg.cc/dQBp39c1/240562647-1555409174820980-7157545560800067469-n.jpg",
"https://i.postimg.cc/qMvY3CpG/240562654-352487719912535-4536646289437026772-n.jpg",
"https://i.postimg.cc/t41MrQZZ/240564048-561329071775716-5312031802563297614-n.jpg",
"https://i.postimg.cc/GhgfJh2n/240564052-448299429580089-8272930675303376350-n.jpg",
"https://i.postimg.cc/P5BF93Y6/240564890-114458997606225-1342949887277006217-n.jpg",
"https://i.postimg.cc/JhZdLNQR/240565958-520641759037823-3637628367063179568-n.jpg",
"https://i.postimg.cc/HxmvsrSX/240587120-367280808136483-442556117459056450-n.jpg",
"https://i.postimg.cc/0QCW6933/240588001-377958253709633-3655259833156194550-n.jpg",
"https://i.postimg.cc/90FxZvHf/240588086-310586674171842-7676212867517962392-n.jpg",
"https://i.postimg.cc/1RJ7s5DV/240591721-857928854828197-8062523569689790184-n.jpg",
"https://i.postimg.cc/3NStBn3F/240593569-4338577082869053-6150207337679492088-n.jpg",
"https://i.postimg.cc/CxfcGGXb/240593978-1031464257607918-4451770435098731421-n.jpg",
"https://i.postimg.cc/vHTqBFvq/240598383-175938467944060-8588985004490748706-n.jpg",
"https://i.postimg.cc/LsKNNqFw/240608868-2383738701763486-2873180028160949106-n.jpg",
"https://i.postimg.cc/W4GSK223/240630362-2843773525841486-6669166584783459846-n.jpg",
"https://i.postimg.cc/mDTVW0DS/240645321-1017958722388566-3958326224778208434-n.jpg",
"https://i.postimg.cc/j2FhN2h8/240646460-133633672304683-9051394081629570675-n.jpg",
"https://i.postimg.cc/qBbwWDd8/240646461-131556472521593-6562024810485920944-n.jpg",
"https://i.postimg.cc/j25XLPyw/240694322-433806517969207-1518443825924527807-n.jpg",
"https://i.postimg.cc/jjb4yGzr/240724547-568814010970375-8016568018014984365-n.jpg",
"https://i.postimg.cc/W4w68Xnq/240727147-538385214160574-4001707173893943680-n.jpg",
"https://i.postimg.cc/y89TgV3P/240728584-142638351388728-4023176343741453761-n.jpg",
"https://i.postimg.cc/RCD1g3cd/240737323-921066491952693-7977395419016979976-n.jpg",
"https://i.postimg.cc/rs3Ssb83/240771137-528344284908356-2704093000198260913-n.jpg",
"https://i.postimg.cc/9Q3djvgq/240777495-846989072462156-4197799016658493770-n.jpg",
"https://i.postimg.cc/m21YJbjs/240816452-1018729978880017-5384062791717520031-n.jpg",
"https://i.postimg.cc/FKp331rj/240818486-611222459868702-371835178743934979-n.jpg",
"https://i.postimg.cc/gJ0RDdj1/240822507-2991295174425082-2351804287225169090-n.jpg",
"https://i.postimg.cc/t4hhR28v/240829220-100549349024351-1026326449672504971-n.jpg",
"https://i.postimg.cc/cJ0fvfSx/240849485-319994849921167-4224496768809767067-n.jpg",
"https://i.postimg.cc/8cJ62HhH/240857337-1737704609769211-5052701370598424398-n.jpg",
"https://i.postimg.cc/vBSn2j6T/240861331-212397527573858-5534019027870215558-n.jpg",
"https://i.postimg.cc/br7tptgj/240863352-814245015938126-7947844334919528774-n.jpg",
"https://i.postimg.cc/L4wfzcp0/240867520-2039463459528265-2755694535039841851-n.jpg",
"https://i.postimg.cc/ZKNNjwYY/240870361-376402483950671-8411252107235158158-n.jpg",
"https://i.postimg.cc/K8rMh4gd/240871728-835765587077933-5752486084103548698-n.jpg",
"https://i.postimg.cc/FHQL601y/240874524-6443580848985426-2211730307864945407-n.jpg",
"https://i.postimg.cc/pdWnWxfy/240877864-939466336782590-7048572147377214505-n.jpg",
"https://i.postimg.cc/yNL3W5jj/240880522-357706312724216-4406157106458861982-n.jpg",
"https://i.postimg.cc/50jYz3kV/240883853-403649267769686-5174268264516467849-n.jpg",
"https://i.postimg.cc/XvjsyrSb/240926249-250735366923637-5737520620273964311-n.jpg",
"https://i.postimg.cc/SxpTkZgj/240937510-1593147947697638-7563885741527262074-n.jpg",
"https://i.postimg.cc/NfXChh7W/240943118-911985966072322-5958787888302062609-n.jpg",
"https://i.postimg.cc/DwdCZqN6/241003969-583771842756201-8629780581690057970-n.jpg",
"https://i.postimg.cc/d17RFwFr/88100106-638937310366245-1175103159559782400-n.jpg",
      ];
      
      const randomLink = link[Math.floor(Math.random() * link.length)];
      
      // cache ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶§‡¶æ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ
      const cacheDir = path.join(__dirname, "cache");
      await fs.ensureDir(cacheDir);
      
      const imagePath = path.join(cacheDir, `ig_${Date.now()}.jpg`);
      
      // axios ‡¶¶‡¶ø‡ßü‡ßá ‡¶á‡¶Æ‡ßá‡¶ú ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
      const imageResponse = await axios.get(randomLink, { responseType: "arraybuffer" });
      await fs.writeFile(imagePath, Buffer.from(imageResponse.data));
      
      // ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
      await message.reply({
        body: know,
        attachment: fs.createReadStream(imagePath)
      });
      
      // ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ
      await fs.unlink(imagePath);

    } catch (error) {
      console.error("ig command error:", error.message);
      message.reply("‚ùå ‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶è‡¶á ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡ßá ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶Ü‡¶®‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§");
    }
  }
};
	  
